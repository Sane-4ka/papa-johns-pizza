"use strict";(self.webpackChunkreact_pizza=self.webpackChunkreact_pizza||[]).push([[211],{7211:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var i=r(2982),n=r(885),a=r(2791),o=r(1405),c=r(1413),l=function(){return l=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},l.apply(this,arguments)};var s=function(e){var t=e.animate,r=e.animateBegin,i=e.backgroundColor,n=e.backgroundOpacity,o=e.baseUrl,c=e.children,s=e.foregroundColor,u=e.foregroundOpacity,d=e.gradientRatio,f=e.gradientDirection,m=e.uniqueKey,h=e.interval,p=e.rtl,g=e.speed,y=e.style,v=e.title,x=e.beforeMask,b=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),z=m||Math.random().toString(36).substring(6),j=z+"-diff",E=z+"-animated-diff",k=z+"-aria",w=p?{transform:"scaleX(-1)"}:null,O="0; "+h+"; 1",C=g+"s",N="top-bottom"===f?"rotate(90)":void 0;return(0,a.createElement)("svg",l({"aria-labelledby":k,role:"img",style:l(l({},y),w)},b),v?(0,a.createElement)("title",{id:k},v):null,x&&(0,a.isValidElement)(x)?x:null,(0,a.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+j+")",style:{fill:"url("+o+"#"+E+")"}}),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:j},c),(0,a.createElement)("linearGradient",{id:E,gradientTransform:N},(0,a.createElement)("stop",{offset:"0%",stopColor:i,stopOpacity:n},t&&(0,a.createElement)("animate",{attributeName:"offset",values:-d+"; "+-d+"; 1",keyTimes:O,dur:C,repeatCount:"indefinite",begin:r})),(0,a.createElement)("stop",{offset:"50%",stopColor:s,stopOpacity:u},t&&(0,a.createElement)("animate",{attributeName:"offset",values:-d/2+"; "+-d/2+"; "+(1+d/2),keyTimes:O,dur:C,repeatCount:"indefinite",begin:r})),(0,a.createElement)("stop",{offset:"100%",stopColor:i,stopOpacity:n},t&&(0,a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+d),keyTimes:O,dur:C,repeatCount:"indefinite",begin:r})))))};s.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var u=function(e){return e.children?(0,a.createElement)(s,l({},e)):(0,a.createElement)(d,l({},e))},d=function(e){return(0,a.createElement)(u,l({viewBox:"0 0 476 124"},e),(0,a.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},f=u,m=r(184),h=function(e){return(0,m.jsxs)(f,(0,c.Z)((0,c.Z)({speed:2,width:291,height:532,viewBox:"0 0 291 532",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[(0,m.jsx)("rect",{x:"1",y:"237",rx:"10",ry:"10",width:"232",height:"48"}),(0,m.jsx)("rect",{x:"4",y:"291",rx:"10",ry:"10",width:"140",height:"39"}),(0,m.jsx)("rect",{x:"6",y:"336",rx:"10",ry:"10",width:"100",height:"33"}),(0,m.jsx)("rect",{x:"6",y:"376",rx:"10",ry:"10",width:"125",height:"33"}),(0,m.jsx)("rect",{x:"139",y:"377",rx:"10",ry:"10",width:"125",height:"33"}),(0,m.jsx)("circle",{cx:"114",cy:"114",r:"114"})]}))},p=r(9898),g=function(e){var t=e.dispatch,r=e.itemData,o=(0,a.useState)([]),c=(0,n.Z)(o,2),l=c[0],s=c[1],u=(0,a.useState)("\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"),d=(0,n.Z)(u,2),f=d[0],h=d[1],g=(0,a.useState)(0),y=(0,n.Z)(g,2),v=y[0],x=y[1],b=(0,a.useState)([]),z=(0,n.Z)(b,2),j=z[0],E=z[1],k=r.name,w=r.description,O=r.variations,C=r.id;(0,a.useEffect)((function(){N()}),[]);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;h(e),x(v),s([]),E([]),x(0),O.forEach((function(t,r){"none"===t.stuffed_crust&&t.dough===e&&(s((function(e){return[].concat((0,i.Z)(e),[t.size.value])})),E((function(e){return[].concat((0,i.Z)(e),[r])})))}))},S=function(){var e=O[j[v]];return(0,m.jsxs)("div",{className:"pizza-block",children:[(0,m.jsx)("div",{className:"pizza-block-img",children:(0,m.jsx)("img",{src:null===e||void 0===e?void 0:e.image_list,alt:"",className:"pizza-image"})}),(0,m.jsx)("hr",{}),(0,m.jsx)("h3",{className:"pizza-title",children:k}),(0,m.jsx)("div",{className:"pizza-description",children:w}),(0,m.jsxs)("div",{className:"pizza-filter",children:[(0,m.jsxs)("div",{className:"pizza-filter-size",children:[(0,m.jsx)("div",{className:"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"===f?"filter-size-item active":"filter-size-item","data-type":"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435",onClick:function(e){return N(e.target.getAttribute("data-type"))},children:"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"}),(0,m.jsx)("div",{className:"\u0422\u043e\u043d\u043a\u043e\u0435"===f?"filter-size-item active":"filter-size-item","data-type":"\u0422\u043e\u043d\u043a\u043e\u0435",onClick:function(e){return N(e.target.getAttribute("data-type"))},children:"\u0422\u043e\u043d\u043a\u043e\u0435"})]}),(0,m.jsx)("div",{className:"pizza-filter-size",children:l.map((function(e,t){return(0,m.jsxs)("span",{onClick:function(){return x(t)},className:t===v?"filter-size-item active":"filter-size-item",children:[e,"cm"]},"".concat(k,"_").concat(t))}))})]}),(0,m.jsxs)("div",{className:"pizza-footer",children:[(0,m.jsx)("button",{className:"pizza-footer-btn",onClick:function(){return function(e){var r=e.id,i=e.price,n=e.image_list,a=e.diameter,o=e.dough;t((0,p.Ht)({id:r,price:i,image_list:n,diameter:a,dough:o,name:k,iDid:C}))}(e)},children:"Add to basket"}),(0,m.jsxs)("span",{className:"pizza-footer-price",children:[e?e.price:null," BYN"]})]})]})}();return(0,m.jsx)(a.Fragment,{children:S})},y=function(e){var t=e.dispatch,r=(0,a.useState)([]),c=(0,n.Z)(r,2),l=c[0],s=c[1],u=(0,o.v9)((function(e){return e.goods})),d=u.goods,f=(u.goodsLoadingStatus,u.status),p=(0,o.v9)((function(e){return e.pizzaFilters})).activePizzaFilter;(0,a.useEffect)((function(){0!==d.length&&"success"===f&&function(){var e,t;s("all"!==p?null===(e=d[0])||void 0===e?void 0:e.goods.filter((function(e,t){return e.types.some((function(e){return e.code===p}))})):null===(t=d[0])||void 0===t?void 0:t.goods)}()}),[d,p]);var y=(0,i.Z)(new Array(9)).map((function(e,t){return(0,m.jsx)(h,{},t)}));return"error"===f?(0,m.jsx)("h2",{children:"Smth went wrong"}):(0,m.jsx)("div",{className:"pizza",children:"success"===f?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e.map((function(e,r){return(0,m.jsx)(g,{dispatch:t,itemData:e},"".concat(e.name,"_X"))}))}(l):y})}}}]);
//# sourceMappingURL=211.f7ff764c.chunk.js.map